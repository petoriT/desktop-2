{"version":3,"sources":["./src/app/modules/admin-store/pages/settings/settings.page.html","./src/app/modules/admin-store/pages/settings/settings-components/settings-components.module.ts","./src/app/modules/admin-store/pages/settings/settings-routing.module.ts","./src/app/modules/admin-store/pages/settings/settings.module.ts","./src/app/modules/admin-store/pages/settings/settings.page.scss","./src/app/modules/admin-store/pages/settings/settings.page.ts"],"names":[],"mappings":"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","file":"modules-admin-store-pages-settings-settings-module.js","sourcesContent":["export default \"<ion-header style=\\\"padding-bottom: 5px\\\">\\r\\n  <ion-toolbar>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-back-button\\r\\n        size=\\\"small\\\"\\r\\n        defaultHref=\\\"/admin-store/store/dashboard\\\"\\r\\n        slot=\\\"icon-only\\\"\\r\\n        name=\\\"arrow-back\\\"\\r\\n      >\\r\\n      </ion-back-button>\\r\\n    </ion-buttons>\\r\\n\\r\\n    <ion-searchbar\\r\\n      (ionInput)=\\\"searchItems($event)\\\"\\r\\n      [debounce]=\\\"1000\\\"\\r\\n      placeholder=\\\"search Settings...\\\"\\r\\n      style=\\\"display: block\\\"\\r\\n    ></ion-searchbar>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-segment value=\\\"orders\\\" fill=\\\"solid\\\">\\r\\n  <ion-segment-button size=\\\"small\\\" value=\\\"orders\\\">\\r\\n    <ion-label>Settings</ion-label>\\r\\n  </ion-segment-button>\\r\\n</ion-segment>\\r\\n\\r\\n<ion-content class=\\\"center\\\">\\r\\n  <div\\r\\n    style=\\\"margin-left: 30%; color: #03dac6\\\"\\r\\n    *ngFor=\\\"let p of profile.lisence | async\\\"\\r\\n  >\\r\\n    <ion-item>\\r\\n      <h6>{{p.base_package.name</h6>\\r\\n    </ion-item>\\r\\n  </div>\\r\\n  <ion-card>\\r\\n    <ion-item routerLink=\\\"/admin-store/store/pricing\\\">\\r\\n      <ion-icon name=\\\"newspaper-outline\\\" slot=\\\"start\\\"></ion-icon>\\r\\n\\r\\n      <ion-label>Licenses</ion-label>\\r\\n    </ion-item>\\r\\n\\r\\n    <ion-item routerLink=\\\"/store/return-policy\\\">\\r\\n      <ion-icon name=\\\"newspaper-outline\\\" slot=\\\"start\\\"></ion-icon>\\r\\n\\r\\n      <ion-label>Return policy</ion-label>\\r\\n    </ion-item>\\r\\n\\r\\n    <ion-item>\\r\\n      <ion-icon name=\\\"people-circle-outline\\\" slot=\\\"start\\\"></ion-icon>\\r\\n\\r\\n      <ion-label>Payment and account</ion-label>\\r\\n    </ion-item>\\r\\n\\r\\n    <ion-item (click)=\\\"activateFreeTrial()\\\">\\r\\n      <ion-icon name=\\\"alarm\\\" slot=\\\"start\\\"></ion-icon>\\r\\n\\r\\n      <ion-label>Free Trial</ion-label>\\r\\n    </ion-item>\\r\\n\\r\\n\\r\\n \\r\\n  </ion-card>\\r\\n</ion-content>\\r\\n<ion-footer>\\r\\n  <ion-toolbar>\\r\\n    <ion-row>\\r\\n      <ion-col class=\\\"center\\\" size=\\\"4\\\"> </ion-col>\\r\\n      <ion-col class=\\\"center\\\" size=\\\"4\\\">\\r\\n        <ion-fab>\\r\\n          <ion-fab-button\\r\\n            [routerLink]=\\\"['/admin-store/store/dashboard']\\\"\\r\\n            size=\\\"small\\\"\\r\\n            color=\\\"white\\\"\\r\\n          >\\r\\n            <ion-icon color=\\\"primary\\\" name=\\\"home\\\"></ion-icon>\\r\\n          </ion-fab-button>\\r\\n        </ion-fab>\\r\\n      </ion-col>\\r\\n      <ion-col class=\\\"center\\\" size=\\\"4\\\"> </ion-col>\\r\\n    </ion-row>\\r\\n  </ion-toolbar>\\r\\n</ion-footer>\\r\\n\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\n\n\n@NgModule({\n  declarations: [\n  \n  ],\n  imports: [\n\n    CommonModule\n  ]\n})\nexport class SettingsComponentsModule { }\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { SettingsPage } from './settings.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SettingsPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class SettingsPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { SettingsPageRoutingModule } from './settings-routing.module';\nimport { SettingsComponentsModule} from \"./settings-components/settings-components.module\";\n\nimport { SettingsPage } from './settings.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    SettingsPageRoutingModule,\n    SettingsComponentsModule,\n  ],\n  declarations: [SettingsPage]\n})\nexport class SettingsPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvYWRtaW4tc3RvcmUvcGFnZXMvc2V0dGluZ3Mvc2V0dGluZ3MucGFnZS5zY3NzIn0= */\";","import { Component, OnInit } from \"@angular/core\";\r\nimport { ToastController } from '@ionic/angular';\r\nimport { AuthApiService } from 'src/app/core-modules/services/auth/auth-api/auth-api.service';\r\nimport { UserFacadeService } from \"src/app/core-modules/services/profile/profile-facade/profile-facade.service\";\r\n\r\n@Component({\r\n  selector: \"app-settings\",\r\n  templateUrl: \"./settings.page.html\",\r\n  styleUrls: [\"./settings.page.scss\"],\r\n})\r\nexport class SettingsPage implements OnInit {\r\n  profile;\r\n  constructor(\r\n    private userFacade: UserFacadeService, \r\n    private authApi: AuthApiService,\r\n    public toastController: ToastController\r\n    ) {}\r\n\r\n  ngOnInit() {\r\n    this.userFacade.getUser$().subscribe(\r\n      //load store profile\r\n      (res) => {\r\n        this.userFacade.loadStoreProfile(res.store_id);\r\n        this.profile = this.userFacade.getStoreProfile$();\r\n        this.profile.subscribe(\r\n          (res) => {\r\n            console.log(res);\r\n          },\r\n          (err) => {\r\n            console.log(err);\r\n          }\r\n        );\r\n      },\r\n      (err) => {\r\n        console.log(err);\r\n      }\r\n    );\r\n  }\r\n\r\n  activateFreeTrial(){\r\n    let store = this.userFacade.getCurrentStore();\r\n\r\n    let today_ms =  Date.now()\r\n    let one_day_ms = 86400000\r\n\r\n    let half_month_ms = one_day_ms * 15\r\n\r\n    let trial_end_period = today_ms + half_month_ms\r\n\r\n    let data = {\r\n      store_id: store._id,\r\n      allowed_products: 5, \r\n      end_date: trial_end_period\r\n    }\r\n  \r\n    if(store.free_trial){\r\n      this.presentToast(\r\n        \"Trial already Activated\"\r\n      );\r\n    }else{\r\n      this.authApi.activateFreeTrial({data:data}).subscribe(\r\n        res => {\r\n          this.presentToast(\r\n            \"15 Day Trial Activated\"\r\n          );\r\n        },\r\n        err => {\r\n          console.log(err)\r\n        }\r\n      )\r\n    }\r\n    \r\n\r\n  }\r\n\r\n  async presentToast(msg) {\r\n    const toast = await this.toastController.create({\r\n      message: msg,\r\n      duration: 2500,\r\n    });\r\n    toast.present();\r\n  }\r\n}\r\n"],"sourceRoot":"webpack:///"}