<ion-fab vertical="top" horizontal="start">
  <ion-fab-button size="small" (click)="onClickBack()">
    <ion-icon name="arrow-back-outline"></ion-icon>
  </ion-fab-button>
</ion-fab>



<app-csv *ngIf="import"></app-csv>

<ion-slides  (ionSlideDidChange)="slideChange($event)" *ngIf="!import && device_screen =='Handset'" pager="true"  #add >
  <ion-slide style=" height: 100vh;">
   <!--<ion-fab
      style="
        background: white;
        border-radius: 24px;
        border: solid;
        border-width: 1px;
        border-color: #01878621;
      "
      vertical="bottom"
      horizontal="end"
    >
      <ion-label *ngIf="!import">
        <sub> import </sub><br />
        <sub> products </sub>
      </ion-label>
      <ion-fab-button (click)="showCSV()">
        <ion-icon *ngIf="!import" name="download-outline"></ion-icon>
        <ion-icon *ngIf="import" name="chevron-back-outline"></ion-icon>
      </ion-fab-button>
    </ion-fab>-->

    <!--<form [formGroup]="choose_category" (ngSubmit)="onSubmit()">-->
    <ion-grid>
      <ion-row>
        <ion-col size="12">
          <ion-img
            src="./assets/adminProductsProductAddproductSlide1.svg"
          ></ion-img>
        </ion-col>
        <ion-col *ngIf="show_this_selected_categories" size="12">
          <div
            *ngFor="let chip of show_this_selected_categories; let i = index"
          >
            <ion-chip
              *ngIf="show_this_selected_categories"
              color="primary"
              class="ion-float-left"
            >
              {{ chip }}
              <ion-icon
                (click)="clearCategories()"
                name="close-circle-outline"
              ></ion-icon>
            </ion-chip>
          </div>
        </ion-col>
        <ion-col *ngIf="category_view" size="12">
          <ion-label> Choose a Category </ion-label>
          <div *ngFor="let category of categories$ | async">
            <ion-chip
              class="ion-float-left"
              (click)="set('category', category.name)"
            >
              {{ category.name }}
            </ion-chip>
          </div>
        </ion-col>

        <ion-col size="12" *ngIf="sub_category && sub_category_view">
          <ion-label> Choose a Sub Category </ion-label>
          <div *ngFor="let item of sub_category | keyvalue">
            <ion-chip
              class="ion-float-left"
              (click)="set('sub_category', item.key)"
            >
              {{ item.key }}
            </ion-chip>
          </div>
        </ion-col>

        <ion-col
          size="12"
          *ngIf="sub_segment_category && sub_segment_category_view"
        >
          <ion-label> Choose a Category Segment </ion-label>
          <div *ngFor="let item of sub_segment_category | keyvalue">
            <ion-chip
              class="ion-float-left"
              (click)="set('sub_segment_category', item.key)"
            >
              {{ item.key }}
            </ion-chip>
          </div>
        </ion-col>
        <ion-col size="12" *ngIf="product_types && product_types_view">
          <ion-label> Choose a Product Type </ion-label>
          <div *ngFor="let item of product_types | keyvalue">
            <ion-chip
              class="ion-float-left"
              (click)="set('product_types', item.key)"
            >
              {{ item.key }}
            </ion-chip>
          </div>
        </ion-col>
      </ion-row>
    </ion-grid>
    <!--   </form>-->
  </ion-slide>

  <ion-slide style=" height: 100vh;" *ngIf="!import">
    <form [formGroup]="createProduct" (ngSubmit)="onSubmit()">
      <ion-grid>
        <ion-row>
          <!--<ion-col size="12">
            <ion-img src="./assets/adminAddProductSlide3.svg"></ion-img>
          </ion-col>-->
          <ion-col size="12" style="padding-bottom: 48px;">
            <ion-title>
              <h1 style="text-align: center">Product Details</h1>
            </ion-title>
            <ion-text style="text-align: center;">
              <sub>
                key in basic information about your product
              </sub>
            </ion-text>
          </ion-col>

          <ion-col size="6">
            <ion-item>
              <ion-label position="floating">Product Name</ion-label>
              <ion-input
                formControlName="productName"
                position="floating"
              >
            </ion-input>
            <div
            *ngIf="
              createProduct.get('productName').invalid &&
              createProduct.get('productName').touched
            "
          >
            <ion-text
              *ngIf="createProduct.get('productName').errors?.required"
              color="danger"
              ><sub>Product name is required</sub></ion-text
            >
            <ion-text
              *ngIf="createProduct.get('productName').errors?.minlength"
              color="danger"
              ><sub
                >Product name must be at least 2 Characters</sub
              ></ion-text
            >
          </div>
            </ion-item>
          </ion-col>
          <ion-col size="6">
            <ion-item style="height: 100%">
              <ion-label position="floating">Price</ion-label>
              <ion-input
                type="number"
                formControlName="productPrice"
              ></ion-input>
            </ion-item>
          </ion-col>
          <ion-col size="12">
            <ion-item>
              <ion-label position="floating">Description</ion-label>
              <ion-textarea style="height:20vh" formControlName="productDescription">
             
              </ion-textarea>
              <div
              *ngIf="
                createProduct.get('productDescription').invalid &&
                createProduct.get('productDescription').touched
              "
            >
              <ion-text
                *ngIf="
                  createProduct.get('productDescription').errors?.required
                "
                color="danger"
                ><sub>Descrption is required</sub></ion-text
              >
              <ion-text
                *ngIf="
                  createProduct.get('productDescription').errors?.minlength
                "
                color="danger"
                ><sub>Descrption must be at least 5 Characters</sub></ion-text
              >
            </div>
            </ion-item>
          </ion-col>
          <ion-col size="12">
            <ion-item>
              <ion-label position="floating"
                >Number Of In-stock Product</ion-label
              >
              <ion-input type="number" formControlName="in_stock"></ion-input>
           
            </ion-item>
          </ion-col>
        </ion-row>
      </ion-grid>
    </form>
  </ion-slide>
  <ion-slide style=" height: 100vh;">
    <form [formGroup]="productMetatagsForm" (ngSubmit)="onSubmit()">
      <ion-grid>
        <ion-row>
         
          <ion-col  style="padding-bottom: 48px;" size="12">
            <ion-title>
              <h1 style="text-align: center">Metatag and inStock</h1>
            </ion-title>
            <ion-text style="text-align: center">
              <sub >
                A Metatag is a keyword that can be associated with your product
              </sub>
            </ion-text>
          </ion-col>
     
        </ion-row>
        <ion-row>
          <ion-col size="12">
            <ion-button
              shape="round"
              (click)="addMetaTag()"
              color="primary"
              size="small"
              >Add MetaTag</ion-button
            >
          </ion-col>
          <ion-col size="12">
            <ion-item style="padding-bottom: 10vh">
              <!--metaTag-->
              <div formArrayName="metaTags">
                <div
                  *ngFor="
                    let metaTag of metaTagFormGroup.controls;
                    let i = index
                  "
                >
                  <div [formGroupName]="i">
                    <ion-chip style="float: left">
                      <ion-input
                        formControlName="metaTagname"
                        type="text"
                        placeholder="Input MetaTag "
                      ></ion-input>
                      <ion-text
                        color="danger"
                        *ngIf="
                          getMetaTagsFormGroup(i).controls['metaTagname']
                            .touched &&
                          getMetaTagsFormGroup(i).controls[
                            'metaTagname'
                          ].hasError('required')
                        "
                      >
                        MetaTag is required!
                      </ion-text>
                      <ion-icon
                        (click)="removeMetaTag(i)"
                        name="close-circle"
                      ></ion-icon>
                    </ion-chip>
                  </div>
                </div>
              </div>
            </ion-item>
          </ion-col>
        </ion-row>
      </ion-grid>
    </form>
  </ion-slide>

  <ion-slide style=" height: 100vh;">
    <form [formGroup]="productFeaturesForm" (ngSubmit)="onSubmit()">
      <ion-grid>
        <ion-row>
          <ion-col size="12">
            <ion-img src="./assets/undraw_reviewed_docs_neeb.svg"></ion-img>
          </ion-col>
          <ion-col  style="padding-bottom: 48px;" size="12">
            <ion-title>
              <h1 style="text-align: center">Product features</h1>
            </ion-title>
            <ion-text style="text-align: center">
              <sub>
                things that describe your products apperance,functionality,
                components and capability
              </sub>
            </ion-text>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col size="12">
            <ion-button
              shape="round"
              (click)="addFeature()"
              color="primary"
              size="small"
              >Add Feature</ion-button
            >
          </ion-col>
          <ion-col size="12">
            <ion-item style="padding-bottom: 10vh">
              <!--metaTag-->
              <div formArrayName="features">
                <div
                  *ngFor="
                    let feature of featureFormGroup.controls;
                    let i = index
                  "
                >
                  <div [formGroupName]="i">
                    <ion-chip style="float: left">
                      <ion-input
                        formControlName="featurename"
                        type="text"
                        placeholder="Input Feature "
                      ></ion-input>
                      <ion-text
                        color="danger"
                        *ngIf="
                          getFeaturesFormGroup(i).controls['featurename']
                            .touched &&
                          getFeaturesFormGroup(i).controls[
                            'featurename'
                          ].hasError('required')
                        "
                      >
                        Feature is required!
                      </ion-text>
                      <ion-icon
                        (click)="removeFeature(i)"
                        name="close-circle"
                      ></ion-icon>
                    </ion-chip>
                  </div>
                </div>
              </div>
            </ion-item>
          </ion-col>
        </ion-row>
      </ion-grid>
    </form>
  </ion-slide>

  <ion-slide style=" height: 100vh;">
    <form [formGroup]="productComponentsForm" (ngSubmit)="onSubmit()">
      <ion-grid style="padding-bottom: 10vh;width: 100vw;">
        <ion-row *ngIf="!bill_type_selected" >
          <ion-col size="12">
            <ion-img src="./assets/adminProductsAddproductsBill.svg"></ion-img>
          </ion-col>
        </ion-row>
        <ion-row *ngIf="addBillOfMaterial">
          <ion-col size="12">
            <ion-title>
              <h1 style="text-align: center">Bill Of Materials</h1>
            </ion-title>
            <ion-text style="text-align: center">
              <sub>
               
               Are parts,components,or raw material making up and are optional to your
                product.
              </sub>
              <sub>
                A BOM can be an <b>Extra</b>, an optional aditional part like a charger. It can also be a <b> Material Substitude</b> in which a material,component or color replaces the base material. 
              </sub>
            </ion-text>
          </ion-col>
          <ion-col size=12>
            <ion-button shape="round"  color="secondary" (click)=" yesAddBillOfMaterial()">
                Add Bill Of Material
            </ion-button>
          </ion-col>
        </ion-row>
        <ion-row *ngIf="!addBillOfMaterial">
          <ion-col size="12">
            <div *ngFor="let chip of bill_of_material; let i = index">
              <ion-chip class="ion-float-left">
                {{ chip.componentname }}
                <ion-avatar style="margin-left: 5px;margin-right: 0px; ">
                  <ion-img src="{{ chip.pictures[0].url }}"> </ion-img>
                </ion-avatar>
                <ion-icon
                  (click)="removeComponent(i)"
                  name="close-circle-outline"
                ></ion-icon>
              </ion-chip>
            </div>
          </ion-col>

          <ion-col size="12">
            <ion-grid *ngIf="!bill_type_selected">
              <ion-row>
                <ion-col size=12>
                  <ion-title>
                    <h1 style="text-align: center"> Select Bill OF Material Type</h1>
                  </ion-title>
                  <ion-text style="text-align: center">
                    <sub>
                      An <b>Extra</b> is additional to the product and <b>Material Substitute</b> is a material,component or color that substitudes a base or standard material.
                    </sub>
                  </ion-text>
                </ion-col>
                <ion-col size=12>
                    <ion-chip *ngIf="!selected_extra" (click)="selected_extra=true ; selectBom('extra')">
                      Extra Component
                    </ion-chip>
                    
                    <ion-chip *ngIf="!material_substitude" (click)="material_substitude = true;selectBom('material')">
                      Material Substitude
                    </ion-chip>
                 
                </ion-col>
              </ion-row>
            </ion-grid>
            <ion-grid *ngIf="bill_type_selected && !component_info_added">
              <ion-row>
                <ion-col size=12>
                  <ion-title style=" padding-right: 0px;" *ngIf="selected_extra" >
                    <h1 class="center" style="text-align: center">  Extra Component  <ion-button (click)="selected_extra=false;selectBom('clear')" fill="clear">
                      <ion-icon name="close-circle-outline"></ion-icon>
                    </ion-button> </h1> 
                   
                  </ion-title>
                  <ion-text *ngIf="selected_extra" style="text-align: center">
                    <sub>
                      The price of an extra component is additional to the product price
                    </sub>
                  </ion-text>
                  <ion-title style=" padding-right: 0px;" *ngIf="material_substitude" >
                    <h1 class="center" style="text-align: center">  Material Substitude     <ion-button (click)="material_substitude = false;selectBom('clear')" fill="clear">
                      <ion-icon name="close-circle-outline"></ion-icon>
                    </ion-button> </h1>
                
                  </ion-title>
                  <ion-text *ngIf="material_substitude" style="text-align: center">
                    <sub>
                      The price of a material Substitude replaces the price of the base material being replaced
                    </sub>
                  </ion-text>
                </ion-col>
                <ion-col size="6">
                  <ion-item>
                    <ion-label position="floating">
                      <sub>Component Name</sub></ion-label
                    >
                    <ion-input
                      formControlName="componentname"
                      type="text"
                    ></ion-input>
                  </ion-item>
                </ion-col>
                <ion-col *ngIf="BOM_type == 'material'" size="5">
                  <ion-item style="--inner-padding-end:0px">
                    <ion-label position="floating">
                      <sub>Base Material Price </sub></ion-label
                    >
                    <ion-input
                      formControlName="base_material_price"
                      type="numeric"
                    ></ion-input>
                  
                  </ion-item>
                </ion-col>
                <ion-col class="center" size=1>
                  <ion-icon (click)="presentAlertMultipleButtons()" style="font-size: 32px; padding-top: 15px;" name="information-circle-outline">  </ion-icon>
                </ion-col>
             
              </ion-row>
              <ion-row>
                <ion-col size="12">
                  <ion-item>
                    <ion-label position="floating">
                      <sub>Description</sub></ion-label
                    >
                    <ion-textarea formControlName="descrip"></ion-textarea>
                  </ion-item>
                </ion-col>

               
              </ion-row>
              <ion-row>
                <ion-col size="5">
                  <ion-item>
                    <ion-label position="floating"> <sub>Component Price</sub></ion-label>
                    <ion-input
                      formControlName="price"
                      type="numeric"
                    ></ion-input>
                  </ion-item>
                </ion-col>
                <ion-col size="7">
                  <ion-item style="--inner-padding-end:0px">
                    <ion-label position="floating">
                      <sub>Unit of measure e.g: kg</sub></ion-label
                    >
                    <ion-input
                      formControlName="unit_of_measure"
                      type="text"
                    ></ion-input>
                  </ion-item>
                </ion-col>
                <ion-col size="12">
                  <ion-button color="secondary" shape="round" (click)="component_info_added = true" [disabled]="">
                    Continue
                  </ion-button>
                
                </ion-col>
              </ion-row>
            </ion-grid>
            <ion-grid *ngIf="component_info_added">
              <ion-row>
                <ion-col *ngIf="bill_type_selected" size=12>
              
                    <ion-title style="padding-right: 0px;padding-left: 0px;">
                      <h1 class="center" style="text-align: center"> Picture of Component <ion-button (click)="component_info_added= false" fill="clear">
                        <ion-icon name="close-circle-outline"></ion-icon></ion-button></h1>
                    </ion-title>
                    <ion-text style="text-align: center">
                      <sub> 
                        Product picture that includes the component
                      </sub>
                    </ion-text>
               
                </ion-col>
                <ion-col *ngIf="  !croppedImage && bill_type_selected" size="12">
                  <div *ngFor="let pic of component_picture_uploaded">
                  
                      <ion-avatar
                        style="  border: groove; width: 30vw;
                        height: 30vw;
                        display: inline-block;
                        float: left; "
                        (click)="removePic(pic);"
                      >
                      <ion-fab *ngIf="pic == pic_remove">
                        <ion-fab-button
                        size="small"
                          color="light"
                          (click)="clearOneComponent(pic)">
                          <ion-icon color="danger"  name="close" ></ion-icon>
                        </ion-fab-button>
                      </ion-fab>
                       
    
                     <ion-img src="{{ pic }}"> </ion-img>
                         
                      </ion-avatar>
                    
                  </div>
                </ion-col>
                <ion-col *ngIf="small" size=12 >
                  <image-cropper
                  [imageBase64]="myImage"
                  [imageChangedEvent]="imageChangedEvent"
                  [maintainAspectRatio]="true"
                  [aspectRatio]="1/1.56"
                  style="max-height: 55vh;max-width: 100vw;"
    
                  format="png"
                  (imageCropped)="imageCropped($event)"
                  outputType="base64"
           
                ></image-cropper>
                </ion-col>
                
                <ion-col *ngIf="!small" size=12 >
                  <image-cropper
                  [imageBase64]="myImage"
                  [imageChangedEvent]="imageChangedEvent"
                  [maintainAspectRatio]="true"
                  [aspectRatio]="1/1"
              
                  style="max-height: 55vh;max-width: 100vw;"
                  format="png"
                  (imageCropped)="imageCropped($event)"
                  outputType="base64"
           
                ></image-cropper>
                </ion-col>
                <ion-col *ngIf="croppedImage" size=12>
                  <ion-grid>
                    <ion-row>
                      <ion-col class="center" size=6>
                       <div style="width:30%;border-radius: 10px;" [class]="defaultR" (click)="aspectSelect('large')">
                        <ion-img style="height: 10vh;" src="./assets/aspecRatio1156.svg">

                        </ion-img>
                       </div>
                         
                       
                      </ion-col>
                      <ion-col class="center" size=6>
                      <div style="width:45%;border-radius: 10px;" [class]="oneone" (click)="aspectSelect('small')" >
                        <ion-img style="height: 10vh;"  src="./assets/aspectRatio11.svg">

                        </ion-img>
                      </div>
                       
                        
                      </ion-col>
                    </ion-row>
                  </ion-grid>
              </ion-col>
              <ion-col  *ngIf="croppedImage" size = 12>
                <ion-toolbar>
                  
                  <ion-button  fill="clear" color="danger" (click)="clearImage()">
                    <ion-icon name="close" slot="icon-only"></ion-icon>
                  </ion-button>
                  <ion-button
                    fill="clear"
                    color="primary"
                    (click)=" saveComponentCropper()"
                  >
                    <ion-icon name="checkmark" slot="icon-only"></ion-icon>
                  </ion-button>
                </ion-toolbar>
              </ion-col>
                <ion-col class="center" size=12>
                  <ion-button color="light" *ngIf="!android_platform && !croppedImage && bill_type_selected">
                    <sub style="position: absolute; top: 50%"> Choose a pic </sub>
      
                    <ion-input
                      #myfile
                      style="opacity: 0"
                      type="file"
                      multiple
                      (change)=" handleComponentFileInput($event)"
                    ></ion-input>
                  </ion-button>
               <ion-button
                    color="primary"
                    (click)="selectImage()"
                    *ngIf="android_platform && !croppedImage && bill_type_selected"
                  >
                    Select an image
                  </ion-button>
                </ion-col>
                <ion-col size="12">
                  <ion-button *ngIf="!croppedImage && component_picture_uploaded && bill_type_selected" color="secondary" shape="round" (click)="bill_type_selected=false;addComponent();selectBom('clear');component_info_added = false" [disabled]="">
                    Add Component
                  </ion-button>
                </ion-col>
              </ion-row>

            </ion-grid>
          </ion-col>
          
        </ion-row>
 
         
       
      </ion-grid>
    </form>
  </ion-slide>

  <ion-slide style=" height: 100vh;" *ngIf="!import">
    <ion-grid>
      <ion-row>
        
   
            <ion-title *ngIf="!croppedImage">
              <ion-title>
                <h1 style="text-align: center">Upload Product pictures</h1>
              </ion-title>
              <ion-text style="text-align: center">
                <sub> the first pic is the main product picture </sub>
              </ion-text>
            </ion-title>
        
    
            <ion-col *ngIf="  !croppedImage" size="12">
              <div *ngFor="let pic of picture_uploaded">
              
                  <ion-avatar
                    style="  border: groove; width: 30vw;
                    height: 30vw;
                    display: inline-block;
                    float: left; "
                    (click)="removePic(pic);"
                  >
                  <ion-fab *ngIf="pic == pic_remove">
                    <ion-fab-button
                    size="small"
                      color="light"
                      (click)="clearOne(pic)">
                      <ion-icon color="danger"  name="close" ></ion-icon>
                    </ion-fab-button>
                  </ion-fab>
                   

                 <ion-img src="{{ pic }}"> </ion-img>
                     
                  </ion-avatar>
                
              </div>
            </ion-col>
            <ion-col class="center" size=12>
              <ion-button color="light" *ngIf="  !croppedImage && !android_platform  ">
                <sub style="position: absolute; top: 50%"> Choose a pic </sub>
  
                <ion-input
                  #myfile
                  style="opacity: 0"
                  type="file"
                  multiple
                  (change)="handleFileInput($event)"
                ></ion-input>
              </ion-button>
          <ion-button
                color="primary"
                (click)="selectImage()"
                *ngIf="android_platform && !croppedImage"
              >
                Select an image
              </ion-button>
            </ion-col>
          

        
            <ion-col *ngIf="small" size=12 >
              <image-cropper
              [imageBase64]="myImage"
              [imageChangedEvent]="imageChangedEvent"
              [maintainAspectRatio]="true"
              [aspectRatio]="1/1.56"
              style="max-height: 55vh;max-width: 100vw;"

              format="png"
              (imageCropped)="imageCropped($event)"
              outputType="base64"
       
            ></image-cropper>
            </ion-col>
            
            <ion-col *ngIf="!small" size=12 >
              <image-cropper
              [imageBase64]="myImage"
              [imageChangedEvent]="imageChangedEvent"
              [maintainAspectRatio]="true"
              [aspectRatio]="1/1"
          
              style="max-height: 55vh;max-width: 100vw;"
              format="png"
              (imageCropped)="imageCropped($event)"
              outputType="base64"
       
            ></image-cropper>
            </ion-col>
           <!--  <ion-card-content>
              <img [src]="croppedImage" />
              </ion-card-content>--> 
             <ion-col *ngIf="croppedImage" size=12>
                  <ion-grid>
                    <ion-row>
                      <ion-col class="center" size=6>
                       <div style="width:30%;border-radius: 10px;" [class]="defaultR" (click)="aspectSelect('large')">
                        <ion-img style="height: 10vh;" src="./assets/aspecRatio1156.svg">

                        </ion-img>
                       </div>
                         
                       
                      </ion-col>
                      <ion-col class="center" size=6>
                      <div style="width:45%;border-radius: 10px;" [class]="oneone" (click)="aspectSelect('small')" >
                        <ion-img style="height: 10vh;"  src="./assets/aspectRatio11.svg">

                        </ion-img>
                      </div>
                       
                        
                      </ion-col>
                    </ion-row>
                  </ion-grid>
              </ion-col>
            <ion-col  *ngIf="croppedImage" size = 12>
              <ion-toolbar>
                
                <ion-button  fill="clear" color="danger" (click)="clearImage()">
                  <ion-icon name="close" slot="icon-only"></ion-icon>
                </ion-button>
                <ion-button
                  fill="clear"
                  color="primary"
                  (click)="saveCropper()"
                >
                  <ion-icon name="checkmark" slot="icon-only"></ion-icon>
                </ion-button>
              </ion-toolbar>
            </ion-col>

            <ion-col   *ngIf="!croppedImage" size="12">
              <ion-button
              *ngIf="!done"
                size="small"
                shape="round"
                expand="full"
                type="submit"
                color="primary"
                (click)="onSubmit()"
                >Save Images
              </ion-button>
              <ion-button
              *ngIf="done"
                size="small"
                shape="round"
                color="primary"
                (click)="pushToDatabase()"
                >Publish Product
              </ion-button>
            </ion-col>
   
      
      </ion-row>
    </ion-grid>
  </ion-slide>
</ion-slides>

<ion-fab *ngIf="showNext && device_screen =='Handset' " vertical="bottom" horizontal="end">
  <ion-button
    shape="round"
    class="ion-padding-end"
    style="color: #000000"
    size="small"
    color="white"
    (click)="next()"
  >
    next
  </ion-button>
</ion-fab>

<ion-fab *ngIf="showBack && device_screen =='Handset' " horizontal="start" vertical="bottom">
  <ion-button
    shape="round"
    class="ion-padding-start"
    style="color: #000000"
    size="small"
    color="white"
    (click)=" slidesBack()"
  >
    back
  </ion-button>
</ion-fab>

<!-- desktop section-->

<ion-grid *ngIf="device_screen =='Web'">
  <ion-row>
    <ion-col size=12>
      <ion-title style="    margin-top: 32px;
    ">
        <h1 style="text-align: center;font-size: xx-large;">Add A New Product</h1>
      </ion-title>
      <ion-text style="text-align: center;display: block;">
     
          add product details to 
     
      </ion-text>
    </ion-col>
  </ion-row>
  <ion-row>
    <ion-col size=6>
      <ion-img src="./assets/adminProductsAddproductsBill.svg"></ion-img>
    </ion-col>
    <ion-col size=6>
      <ion-card style=" height: 73vh;margin-top: 32px">
        <ion-slides style=" height: 73vh"  class="desktop_slides" (ionSlideDidChange)="slideChange($event)" *ngIf="!import " pager="true"  #add >
          <ion-slide>
           <!--<ion-fab
              style="
                background: white;
                border-radius: 24px;
                border: solid;
                border-width: 1px;
                border-color: #01878621;
              "
              vertical="bottom"
              horizontal="end"
            >
              <ion-label *ngIf="!import">
                <sub> import </sub><br />
                <sub> products </sub>
              </ion-label>
              <ion-fab-button (click)="showCSV()">
                <ion-icon *ngIf="!import" name="download-outline"></ion-icon>
                <ion-icon *ngIf="import" name="chevron-back-outline"></ion-icon>
              </ion-fab-button>
            </ion-fab>-->
        
            <!--<form [formGroup]="choose_category" (ngSubmit)="onSubmit()">-->
            <ion-grid>
              <ion-row>
                <ion-col size="12" >
                  <ion-title>
                    <h1 style="text-align: center">Product Category</h1>
                  </ion-title>
                  <ion-text style="text-align: center">
                    <sub>
                     A product category is a group of products that offer similar benefits.  
                    </sub>
                  </ion-text>
                </ion-col>

                <ion-col *ngIf="show_this_selected_categories" size="12">
                  <div
                    *ngFor="let chip of show_this_selected_categories; let i = index"
                  >
                    <ion-chip
                      *ngIf="show_this_selected_categories"
                      color="primary"
                      class="ion-float-left"
                    >
                      {{ chip }}
                      <ion-icon
                        (click)="clearCategories()"
                        name="close-circle-outline"
                      ></ion-icon>
                    </ion-chip>
                  </div>
                </ion-col>
                <ion-col *ngIf="category_view" size="12">
                  <ion-label> Choose a Category </ion-label>
                  <div *ngFor="let category of categories$ | async">
                    <ion-chip
                      class="ion-float-left"
                      (click)="set('category', category.name)"
                    >
                      {{ category.name }}
                    </ion-chip>
                  </div>
                </ion-col>
        
                <ion-col size="12" *ngIf="sub_category && sub_category_view">
                  <ion-label> Choose a Sub Category </ion-label>
                  <div *ngFor="let item of sub_category | keyvalue">
                    <ion-chip
                      class="ion-float-left"
                      (click)="set('sub_category', item.key)"
                    >
                      {{ item.key }}
                    </ion-chip>
                  </div>
                </ion-col>
        
                <ion-col
                  size="12"
                  *ngIf="sub_segment_category && sub_segment_category_view"
                >
                  <ion-label> Choose a Category Segment </ion-label>
                  <div *ngFor="let item of sub_segment_category | keyvalue">
                    <ion-chip
                      class="ion-float-left"
                      (click)="set('sub_segment_category', item.key)"
                    >
                      {{ item.key }}
                    </ion-chip>
                  </div>
                </ion-col>
                <ion-col size="12" *ngIf="product_types && product_types_view">
                  <ion-label> Choose a Product Type </ion-label>
                  <div *ngFor="let item of product_types | keyvalue">
                    <ion-chip
                      class="ion-float-left"
                      (click)="set('product_types', item.key)"
                    >
                      {{ item.key }}
                    </ion-chip>
                  </div>
                </ion-col>
              </ion-row>
            </ion-grid>
            <!--   </form>-->
          </ion-slide>
        
          <ion-slide *ngIf="!import">
            <form [formGroup]="createProduct" (ngSubmit)="onSubmit()">
              <ion-grid>
                <ion-row>
                  <!--<ion-col size="12">
                    <ion-img src="./assets/adminAddProductSlide3.svg"></ion-img>
                  </ion-col>-->
                  <ion-col size="12" >
                    <ion-title>
                      <h1 style="text-align: center">Product Details</h1>
                    </ion-title>
                    <ion-text style="text-align: center">
                      <sub>
                        key in basic information about your product
                      </sub>
                    </ion-text>
                  </ion-col>
        
                  <ion-col size="6">
                    <ion-item>
                      <ion-label position="floating">Product Name</ion-label>
                      <ion-input
                        formControlName="productName"
                        position="floating"
                      >
                    </ion-input>
                    <div
                    *ngIf="
                      createProduct.get('productName').invalid &&
                      createProduct.get('productName').touched
                    "
                  >
                    <ion-text
                      *ngIf="createProduct.get('productName').errors?.required"
                      color="danger"
                      ><sub>Product name is required</sub></ion-text
                    >
                    <ion-text
                      *ngIf="createProduct.get('productName').errors?.minlength"
                      color="danger"
                      ><sub
                        >Product name must be at least 2 Characters</sub
                      ></ion-text
                    >
                  </div>
                    </ion-item>
                  </ion-col>
                  <ion-col size="6">
                    <ion-item style="height: 100%">
                      <ion-label position="floating">Price</ion-label>
                      <ion-input
                        type="number"
                        formControlName="productPrice"
                      ></ion-input>
                    </ion-item>
                  </ion-col>
                  <ion-col size="12">
                    <ion-item>
                      <ion-label position="floating">Description</ion-label>
                      <ion-textarea style="height:20vh" formControlName="productDescription">
                     
                      </ion-textarea>
                      <div
                      *ngIf="
                        createProduct.get('productDescription').invalid &&
                        createProduct.get('productDescription').touched
                      "
                    >
                      <ion-text
                        *ngIf="
                          createProduct.get('productDescription').errors?.required
                        "
                        color="danger"
                        ><sub>Descrption is required</sub></ion-text
                      >
                      <ion-text
                        *ngIf="
                          createProduct.get('productDescription').errors?.minlength
                        "
                        color="danger"
                        ><sub>Descrption must be at least 5 Characters</sub></ion-text
                      >
                    </div>
                    </ion-item>
                  </ion-col>
                  <ion-col size="12">
                    <ion-item>
                      <ion-label position="floating"
                        >Number Of In-stock Product</ion-label
                      >
                      <ion-input type="number" formControlName="in_stock"></ion-input>
                   
                    </ion-item>
                  </ion-col>
                </ion-row>
              </ion-grid>
            </form>
          </ion-slide>
          <ion-slide>
            <form [formGroup]="productMetatagsForm" (ngSubmit)="onSubmit()">
              <ion-grid>
                <ion-row>
                 
                  <ion-col  size="12">
                    <ion-title>
                      <h1 style="text-align: center">Metatag and inStock</h1>
                    </ion-title>
                    <ion-text style="text-align: center">
                      <sub >
                        A Metatag is a keyword that can be associated with your product
                      </sub>
                    </ion-text>
                  </ion-col>
             
                </ion-row>
                <ion-row>
                  <ion-col size="12">
                    <ion-button
                      shape="round"
                      (click)="addMetaTag()"
                      color="primary"
                      size="small"
                      >Add MetaTag</ion-button
                    >
                  </ion-col>
                  <ion-col size="12">
                    <ion-item style="padding-bottom: 10vh">
                      <!--metaTag-->
                      <div formArrayName="metaTags">
                        <div
                          *ngFor="
                            let metaTag of metaTagFormGroup.controls;
                            let i = index
                          "
                        >
                          <div [formGroupName]="i">
                            <ion-chip style="float: left">
                              <ion-input
                                formControlName="metaTagname"
                                type="text"
                                placeholder="Input MetaTag "
                              ></ion-input>
                              <ion-text
                                color="danger"
                                *ngIf="
                                  getMetaTagsFormGroup(i).controls['metaTagname']
                                    .touched &&
                                  getMetaTagsFormGroup(i).controls[
                                    'metaTagname'
                                  ].hasError('required')
                                "
                              >
                                MetaTag is required!
                              </ion-text>
                              <ion-icon
                                (click)="removeMetaTag(i)"
                                name="close-circle"
                              ></ion-icon>
                            </ion-chip>
                          </div>
                        </div>
                      </div>
                    </ion-item>
                  </ion-col>
                </ion-row>
              </ion-grid>
            </form>
          </ion-slide>
        
          <ion-slide>
            <form   [formGroup]="productFeaturesForm" (ngSubmit)="onSubmit()">
              <ion-grid>
                <ion-row>
                  
                  <ion-col   size="12">
                    <ion-title>
                      <h1 style="text-align: center">Product features</h1>
                    </ion-title>
                    <ion-text style="text-align: center">
                      <sub>
                        things that describe your products apperance,functionality,
                        components and capability
                      </sub>
                    </ion-text>
                  </ion-col>
                </ion-row>
                <ion-row>
                  <ion-col size="12">
                    <ion-button
                      shape="round"
                      (click)="addFeature()"
                      color="primary"
                      size="small"
                      >Add Feature</ion-button
                    >
                  </ion-col>
                  <ion-col size="12">
                    <ion-item style="padding-bottom: 10vh">
                      <!--metaTag-->
                      <div formArrayName="features">
                        <div
                          *ngFor="
                            let feature of featureFormGroup.controls;
                            let i = index
                          "
                        >
                          <div [formGroupName]="i">
                            <ion-chip style="float: left">
                              <ion-input
                                formControlName="featurename"
                                type="text"
                                placeholder="Input Feature "
                              ></ion-input>
                              <ion-text
                                color="danger"
                                *ngIf="
                                  getFeaturesFormGroup(i).controls['featurename']
                                    .touched &&
                                  getFeaturesFormGroup(i).controls[
                                    'featurename'
                                  ].hasError('required')
                                "
                              >
                                Feature is required!
                              </ion-text>
                              <ion-icon
                                (click)="removeFeature(i)"
                                name="close-circle"
                              ></ion-icon>
                            </ion-chip>
                          </div>
                        </div>
                      </div>
                    </ion-item>
                  </ion-col>
                </ion-row>
              </ion-grid>
            </form>
          </ion-slide>
        
          <ion-slide>
            <form [formGroup]="productComponentsForm" (ngSubmit)="onSubmit()">
              <ion-grid >
              
                <ion-row *ngIf="addBillOfMaterial">
                  <ion-col size="12">
                    <ion-title>
                      <h1 style="text-align: center">Bill Of Materials</h1>
                    </ion-title>
                    <ion-text style="text-align: center">
                      <sub>
                       
                       Are parts,components,or raw material making up and are optional to your
                        product.
                      </sub>
                      <sub>
                        A BOM can be an <b>Extra</b>, an optional aditional part like a charger. It can also be a <b> Material Substitude</b> in which a material,component or color replaces the base material. 
                      </sub>
                    </ion-text>
                  </ion-col>
                  <ion-col size=12>
                    <ion-button shape="round"  color="secondary" (click)=" yesAddBillOfMaterial()">
                        Add Bill Of Material
                    </ion-button>
                  </ion-col>
                </ion-row>
                <ion-row *ngIf="!addBillOfMaterial">
                  <ion-col size="12">
                    <div *ngFor="let chip of bill_of_material; let i = index">
                      <ion-chip class="ion-float-left">
                        {{ chip.componentname }}
                        <ion-avatar style="margin-left: 5px;margin-right: 0px; ">
                          <ion-img src="{{ chip.pictures[0].url }}"> </ion-img>
                        </ion-avatar>
                        <ion-icon
                          (click)="removeComponent(i)"
                          name="close-circle-outline"
                        ></ion-icon>
                      </ion-chip>
                    </div>
                  </ion-col>
        
                  <ion-col size="12">
                    <ion-grid *ngIf="!bill_type_selected">
                      <ion-row>
                        <ion-col size=12>
                          <ion-title>
                            <h1 style="text-align: center"> Select Bill OF Material Type</h1>
                          </ion-title>
                          <ion-text style="text-align: center">
                            <sub>
                              An <b>Extra</b> is additional to the product and <b>Material Substitute</b> is a material,component or color that substitudes a base or standard material.
                            </sub>
                          </ion-text>
                        </ion-col>
                        <ion-col size=12>
                            <ion-chip *ngIf="!selected_extra" (click)="selected_extra=true ; selectBom('extra')">
                              Extra Component
                            </ion-chip>
                            
                            <ion-chip *ngIf="!material_substitude" (click)="material_substitude = true;selectBom('material')">
                              Material Substitude
                            </ion-chip>
                         
                        </ion-col>
                      </ion-row>
                    </ion-grid>
                    <ion-grid *ngIf="bill_type_selected && !component_info_added">
                      <ion-row>
                        <ion-col size=12>
                          <ion-title style=" padding-right: 0px;" *ngIf="selected_extra" >
                            <h1 class="center" style="text-align: center">  Extra Component  <ion-button (click)="selected_extra=false;selectBom('clear')" fill="clear">
                              <ion-icon name="close-circle-outline"></ion-icon>
                            </ion-button> </h1> 
                           
                          </ion-title>
                          <ion-text *ngIf="selected_extra" style="text-align: center">
                            <sub>
                              The price of an extra component is additional to the product price
                            </sub>
                          </ion-text>
                          <ion-title style=" padding-right: 0px;" *ngIf="material_substitude" >
                            <h1 class="center" style="text-align: center">  Material Substitude     <ion-button (click)="material_substitude = false;selectBom('clear')" fill="clear">
                              <ion-icon name="close-circle-outline"></ion-icon>
                            </ion-button> </h1>
                        
                          </ion-title>
                          <ion-text *ngIf="material_substitude" style="text-align: center">
                            <sub>
                              The price of a material Substitude replaces the price of the base material being replaced
                            </sub>
                          </ion-text>
                        </ion-col>
                        <ion-col size="6">
                          <ion-item>
                            <ion-label position="floating">
                              <sub>Component Name</sub></ion-label
                            >
                            <ion-input
                              formControlName="componentname"
                              type="text"
                            ></ion-input>
                          </ion-item>
                        </ion-col>
                        <ion-col *ngIf="BOM_type == 'material'" size="5">
                          <ion-item style="--inner-padding-end:0px">
                            <ion-label position="floating">
                              <sub>Base Material Price </sub></ion-label
                            >
                            <ion-input
                              formControlName="base_material_price"
                              type="numeric"
                            ></ion-input>
                          
                          </ion-item>
                        </ion-col>
                        <ion-col class="center" size=1>
                          <ion-icon (click)="presentAlertMultipleButtons()" style="font-size: 32px; padding-top: 15px;" name="information-circle-outline">  </ion-icon>
                        </ion-col>
                     
                      </ion-row>
                      <ion-row>
                        <ion-col size="12">
                          <ion-item>
                            <ion-label position="floating">
                              <sub>Description</sub></ion-label
                            >
                            <ion-textarea formControlName="descrip"></ion-textarea>
                          </ion-item>
                        </ion-col>
        
                       
                      </ion-row>
                      <ion-row>
                        <ion-col size="5">
                          <ion-item>
                            <ion-label position="floating"> <sub>Component Price</sub></ion-label>
                            <ion-input
                              formControlName="price"
                              type="numeric"
                            ></ion-input>
                          </ion-item>
                        </ion-col>
                        <ion-col size="7">
                          <ion-item style="--inner-padding-end:0px">
                            <ion-label position="floating">
                              <sub>Unit of measure e.g: kg</sub></ion-label
                            >
                            <ion-input
                              formControlName="unit_of_measure"
                              type="text"
                            ></ion-input>
                          </ion-item>
                        </ion-col>
                        <ion-col size="12">
                          <ion-button color="secondary" shape="round" (click)="component_info_added = true" [disabled]="">
                            Continue
                          </ion-button>
                        
                        </ion-col>
                      </ion-row>
                    </ion-grid>
                    <ion-grid *ngIf="component_info_added">
                      <ion-row>
                        <ion-col *ngIf="bill_type_selected" size=12>
                      
                            <ion-title style="padding-right: 0px;padding-left: 0px;">
                              <h1 class="center" style="text-align: center"> Picture of Component <ion-button (click)="component_info_added= false" fill="clear">
                                <ion-icon name="close-circle-outline"></ion-icon></ion-button></h1>
                            </ion-title>
                            <ion-text style="text-align: center">
                              <sub> 
                                Product picture that includes the component
                              </sub>
                            </ion-text>
                       
                        </ion-col>
                        <ion-col *ngIf="  !croppedImage && bill_type_selected" size="12">
                          <div *ngFor="let pic of component_picture_uploaded">
                          
                              <ion-avatar
                                style="  border: groove; width: 30vw;
                                height: 30vw;
                                display: inline-block;
                                float: left; "
                                (click)="removePic(pic);"
                              >
                              <ion-fab *ngIf="pic == pic_remove">
                                <ion-fab-button
                                size="small"
                                  color="light"
                                  (click)="clearOneComponent(pic)">
                                  <ion-icon color="danger"  name="close" ></ion-icon>
                                </ion-fab-button>
                              </ion-fab>
                               
            
                             <ion-img src="{{ pic }}"> </ion-img>
                                 
                              </ion-avatar>
                            
                          </div>
                        </ion-col>
                        <ion-col *ngIf="small" size=12 >
                          <image-cropper
                          [imageBase64]="myImage"
                          [imageChangedEvent]="imageChangedEvent"
                          [maintainAspectRatio]="true"
                          [aspectRatio]="1/1.56"
                          style="max-height: 55vh;max-width: 100vw;"
            
                          format="png"
                          (imageCropped)="imageCropped($event)"
                          outputType="base64"
                   
                        ></image-cropper>
                        </ion-col>
                        
                        <ion-col *ngIf="!small" size=12 >
                          <image-cropper
                          [imageBase64]="myImage"
                          [imageChangedEvent]="imageChangedEvent"
                          [maintainAspectRatio]="true"
                          [aspectRatio]="1/1"
                      
                          style="max-height: 55vh;max-width: 100vw;"
                          format="png"
                          (imageCropped)="imageCropped($event)"
                          outputType="base64"
                   
                        ></image-cropper>
                        </ion-col>
                        <ion-col *ngIf="croppedImage" size=12>
                          <ion-grid>
                            <ion-row>
                              <ion-col class="center" size=6>
                               <div style="width:30%;border-radius: 10px;" [class]="defaultR" (click)="aspectSelect('large')">
                                <ion-img style="height: 10vh;" src="./assets/aspecRatio1156.svg">
        
                                </ion-img>
                               </div>
                                 
                               
                              </ion-col>
                              <ion-col class="center" size=6>
                              <div style="width:45%;border-radius: 10px;" [class]="oneone" (click)="aspectSelect('small')" >
                                <ion-img style="height: 10vh;"  src="./assets/aspectRatio11.svg">
        
                                </ion-img>
                              </div>
                               
                                
                              </ion-col>
                            </ion-row>
                          </ion-grid>
                      </ion-col>
                      <ion-col  *ngIf="croppedImage" size = 12>
                        <ion-toolbar>
                          
                          <ion-button  fill="clear" color="danger" (click)="clearImage()">
                            <ion-icon name="close" slot="icon-only"></ion-icon>
                          </ion-button>
                          <ion-button
                            fill="clear"
                            color="primary"
                            (click)=" saveComponentCropper()"
                          >
                            <ion-icon name="checkmark" slot="icon-only"></ion-icon>
                          </ion-button>
                        </ion-toolbar>
                      </ion-col>
                        <ion-col class="center" size=12>
                          <ion-button color="light" *ngIf="!android_platform && !croppedImage && bill_type_selected">
                            <sub style="position: absolute; top: 50%"> Choose a pic </sub>
              
                            <ion-input
                              #myfile
                              style="opacity: 0"
                              type="file"
                              multiple
                              (change)=" handleComponentFileInput($event)"
                            ></ion-input>
                          </ion-button>
                       <ion-button
                            color="primary"
                            (click)="selectImage()"
                            *ngIf="android_platform && !croppedImage && bill_type_selected"
                          >
                            Select an image
                          </ion-button>
                        </ion-col>
                        <ion-col size="12">
                          <ion-button *ngIf="!croppedImage && component_picture_uploaded && bill_type_selected" color="secondary" shape="round" (click)="bill_type_selected=false;addComponent();selectBom('clear');component_info_added = false" [disabled]="">
                            Add Component
                          </ion-button>
                        </ion-col>
                      </ion-row>
        
                    </ion-grid>
                  </ion-col>
                  
                </ion-row>
         
                 
               
              </ion-grid>
            </form>
          </ion-slide>
        
          <ion-slide *ngIf="!import">
            <ion-grid>
              <ion-row>
                
           
                    <ion-title *ngIf="!croppedImage">
                      <ion-title>
                        <h1 style="text-align: center">Upload Product pictures</h1>
                      </ion-title>
                      <ion-text style="text-align: center">
                        <sub> the first pic is the main product picture </sub>
                      </ion-text>
                    </ion-title>
                
            
                    <ion-col *ngIf="  !croppedImage" size="12">
                      <div *ngFor="let pic of picture_uploaded">
                      
                          <ion-avatar
                            style="  border: groove; width: 30vw;
                            height: 30vw;
                            display: inline-block;
                            float: left; "
                            (click)="removePic(pic);"
                          >
                          <ion-fab *ngIf="pic == pic_remove">
                            <ion-fab-button
                            size="small"
                              color="light"
                              (click)="clearOne(pic)">
                              <ion-icon color="danger"  name="close" ></ion-icon>
                            </ion-fab-button>
                          </ion-fab>
                           
        
                         <ion-img src="{{ pic }}"> </ion-img>
                             
                          </ion-avatar>
                        
                      </div>
                    </ion-col>
                    <ion-col class="center" size=12>
                      <ion-button color="light" *ngIf="  !croppedImage && !android_platform  ">
                        <sub style="position: absolute; top: 50%"> Choose a pic </sub>
          
                        <ion-input
                          #myfile
                          style="opacity: 0"
                          type="file"
                          multiple
                          (change)="handleFileInput($event)"
                        ></ion-input>
                      </ion-button>
                  <ion-button
                        color="primary"
                        (click)="selectImage()"
                        *ngIf="android_platform && !croppedImage"
                      >
                        Select an image
                      </ion-button>
                    </ion-col>
                  
        
                
                    <ion-col *ngIf="small" size=12 >
                      <image-cropper
                      [imageBase64]="myImage"
                      [imageChangedEvent]="imageChangedEvent"
                      [maintainAspectRatio]="true"
                      [aspectRatio]="1/1.56"
                      style="max-height: 55vh;max-width: 100vw;"
        
                      format="png"
                      (imageCropped)="imageCropped($event)"
                      outputType="base64"
               
                    ></image-cropper>
                    </ion-col>
                    
                    <ion-col *ngIf="!small" size=12 >
                      <image-cropper
                      [imageBase64]="myImage"
                      [imageChangedEvent]="imageChangedEvent"
                      [maintainAspectRatio]="true"
                      [aspectRatio]="1/1"
                  
                      style="max-height: 55vh;max-width: 100vw;"
                      format="png"
                      (imageCropped)="imageCropped($event)"
                      outputType="base64"
               
                    ></image-cropper>
                    </ion-col>
                   <!--  <ion-card-content>
                      <img [src]="croppedImage" />
                      </ion-card-content>--> 
                     <ion-col *ngIf="croppedImage" size=12>
                          <ion-grid>
                            <ion-row>
                              <ion-col class="center" size=6>
                               <div style="width:30%;border-radius: 10px;" [class]="defaultR" (click)="aspectSelect('large')">
                                <ion-img style="height: 10vh;" src="./assets/aspecRatio1156.svg">
        
                                </ion-img>
                               </div>
                                 
                               
                              </ion-col>
                              <ion-col class="center" size=6>
                              <div style="width:45%;border-radius: 10px;" [class]="oneone" (click)="aspectSelect('small')" >
                                <ion-img style="height: 10vh;"  src="./assets/aspectRatio11.svg">
        
                                </ion-img>
                              </div>
                               
                                
                              </ion-col>
                            </ion-row>
                          </ion-grid>
                      </ion-col>
                    <ion-col  *ngIf="croppedImage" size = 12>
                      <ion-toolbar>
                        
                        <ion-button  fill="clear" color="danger" (click)="clearImage()">
                          <ion-icon name="close" slot="icon-only"></ion-icon>
                        </ion-button>
                        <ion-button
                          fill="clear"
                          color="primary"
                          (click)="saveCropper()"
                        >
                          <ion-icon name="checkmark" slot="icon-only"></ion-icon>
                        </ion-button>
                      </ion-toolbar>
                    </ion-col>
        
                    <ion-col   *ngIf="!croppedImage" size="12">
                      <ion-button
                      *ngIf="!done"
                        size="small"
                        shape="round"
                        expand="full"
                        type="submit"
                        color="primary"
                        (click)="onSubmit()"
                        >Save Images
                      </ion-button>
                      <ion-button
                      *ngIf="done"
                        size="small"
                        shape="round"
                        color="primary"
                        (click)="pushToDatabase()"
                        >Publish Product
                      </ion-button>
                    </ion-col>
           
              
              </ion-row>
            </ion-grid>
          </ion-slide>
        </ion-slides>
        
        <ion-fab *ngIf="showNext  " vertical="bottom" horizontal="end">
          <ion-button
            shape="round"
            class="ion-padding-end"
            style="color: #000000"
            size="small"
            color="white"
            (click)="next()"
          >
            next
          </ion-button>
        </ion-fab>
        
        <ion-fab *ngIf="showBack  " horizontal="start" vertical="bottom">
          <ion-button
            shape="round"
            class="ion-padding-start"
            style="color: #000000"
            size="small"
            color="white"
            (click)=" slidesBack()"
          >
            back
          </ion-button>
        </ion-fab>
      </ion-card>
    </ion-col>
    
  </ion-row>
</ion-grid>